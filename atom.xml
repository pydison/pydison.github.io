<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>pydison</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yulong.site/"/>
  <updated>2019-02-03T12:09:37.599Z</updated>
  <id>http://yulong.site/</id>
  
  <author>
    <name>pydison</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>搭建svn服务器</title>
    <link href="http://yulong.site/2019/02/03/svn-server/"/>
    <id>http://yulong.site/2019/02/03/svn-server/</id>
    <published>2019-02-03T12:09:37.599Z</published>
    <updated>2019-02-03T12:09:37.599Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安装svn"><a href="#安装svn" class="headerlink" title="安装svn"></a>安装svn</h2><p><code>yum install svn</code></p><hr><h2 id="创建svn版本库"><a href="#创建svn版本库" class="headerlink" title="创建svn版本库"></a>创建svn版本库</h2><p>这里，打算把所有的版本库都放到svns目录下，其中一个版本库叫tiejie</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir /root/svns</span><br><span class="line">svnadmin create /root/svns/tiejie</span><br></pre></td></tr></table></figure><hr><h2 id="配置svn"><a href="#配置svn" class="headerlink" title="配置svn"></a>配置svn</h2><p>在版本库目录下，ls 可以看到生成了以下文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tiejie/</span><br><span class="line">├── conf</span><br><span class="line">│   ├── authz         ：权限配置文件</span><br><span class="line">│   ├── passwd        ：密码配置文件</span><br><span class="line">│   └── svnserve.conf ：svn服务配置文件</span><br><span class="line">├── db</span><br><span class="line">以下略</span><br></pre></td></tr></table></figure><p>authz文件配置示例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[groups]</span><br><span class="line">admins = harry,sally             #admins组</span><br><span class="line">normals1 = harry,sally,&amp;joe      #normals1组</span><br><span class="line">normals2 = wangfugui,zhangdabing</span><br><span class="line"></span><br><span class="line">[/]                              #svn服务根目录，这里对应/root/svns/</span><br><span class="line">harry = rw                       #对用户设置权限</span><br><span class="line">@admins = rw                     #对组设置权限</span><br><span class="line">* =                              #默认权限</span><br><span class="line"></span><br><span class="line">[tiejie:/]                       #单个版本库目录，这里对应 /root/svns/tiejie/</span><br><span class="line">@normals1 = rw                   #组权限</span><br><span class="line">* = r</span><br></pre></td></tr></table></figure><p>passwd文件配置示例</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[users]</span><br><span class="line">wangfugui = ligoudan</span><br></pre></td></tr></table></figure><p>svnserve.conf 配置示例<br>基本上把双列注释的井号去掉就差不多了。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[general]</span><br><span class="line">anon-access = read</span><br><span class="line">auth-access = write</span><br><span class="line">password-db = passwd</span><br><span class="line">authz-db = authz</span><br></pre></td></tr></table></figure><hr><h2 id="启动svn服务"><a href="#启动svn服务" class="headerlink" title="启动svn服务"></a>启动svn服务</h2><p><code>svnserve -d -r /root/svns</code> #-d指后台运行,-r指定目录</p><p>停止服务的话，杀掉进程就可以了。</p><hr><h2 id="客户端连接此svn服务器"><a href="#客户端连接此svn服务器" class="headerlink" title="客户端连接此svn服务器"></a>客户端连接此svn服务器</h2><p>比如这台服务器网址是<code>115.28.143.71</code>，那么我在客户端上执行的命令是<code>svn co svn://115.28.143.71/tiejie</code>.</p><p>在本文配置中，陌生用户有读权限，所以很容易就check到本地了。<br>然后提交新版本的时候，就需要确认用户了。这里我们以wangfugui这个用户为例。</p><p><img src="http://pydison.oss-cn-hangzhou.aliyuncs.com/pics/svn.png" alt="svn连接"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;安装svn&quot;&gt;&lt;a href=&quot;#安装svn&quot; class=&quot;headerlink&quot; title=&quot;安装svn&quot;&gt;&lt;/a&gt;安装svn&lt;/h2&gt;&lt;p&gt;&lt;code&gt;yum install svn&lt;/code&gt;&lt;/p&gt;&lt;hr&gt;&lt;h2 id=&quot;创建svn版本库&quot;&gt;&lt;a h
      
    
    </summary>
    
    
  </entry>
  
</feed>
